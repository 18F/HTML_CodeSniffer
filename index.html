<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>HTMLCodeSniffer Test Page</title>
    <link rel="stylesheet" media="screen" href="./main.css">
    <script type="text/javascript" src="https://raw.github.com/squizlabs/HTMLCodeSniffer/master/HTMLCS.js"></script>
    <script>
        function runHTMLCS()
        {
            var source = document.getElementById('source');
            HTMLCS.process('WCAG2AA', source.value, function() {
                updateResults();
            });
        }

        function updateResults()
        {
            var resultsWrapper = document.getElementById('resultsWrapper');
            resultsWrapper.innerHTML = '';

            var msgs = HTMLCS.getMessages();
            if (msgs.length === 0) {
                resultsWrapper.innerHTML = 'No errors found';
                return;
            }

            var content = '<table border="1" cellpadding="5"><tr>';
            content    += '<th>#</th><th>Type</th><th>Message</th><th>Code</th></tr>';

            for (var i = 0; i < msgs.length; i++) {
                var msg = msgs[i];
                var type = '';
                switch (msg.type) {
                    case HTMLCS.ERROR:
                        type = 'Error';
                    break;

                    case HTMLCS.WARNING:
                        type = 'Warning';
                    break;

                    case HTMLCS.NOTICE:
                        type = 'Notice';
                    break;

                    default:
                        type = 'Unknown';
                    break;
                }

                content += '<td>' + (i + 1) + '</td><td>' + type + '</td><td>' + msg.msg + '</td><td>' + msg.code + '</td></tr>';
            }

            content += '</table>';
            resultsWrapper.innerHTML = content;

        }
    </script>
</head>
<body>
<textarea id="source" style="width:100%; height:200px;"></textarea>
<button onclick="javascript:runHTMLCS();">Run HTMLCodeSniffer</button>
<hr />
<div id="resultsWrapper">

</div>
</body>
</html>
