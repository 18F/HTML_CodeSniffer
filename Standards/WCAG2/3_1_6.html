<html>
<head>
<title>WCAG 2.0 Success Criterion 3.1.6 - HTML_CodeSniffer</title>
<style type="text/css">
h1 {border-bottom: 5px solid #56a8f9; background-color: #333; color: white; padding: 15px 10px; margin: -10px -10px 10px -10px}
body {padding: 10px; margin: 0}
body, th, td {font: 10.5pt 'verdana', sans-serif}
table h4 {margin: 0; padding:0.2em 0; background-color: #eef}
table p {margin: 0; margin-top: 0;}
table h4 + p, p + p {margin-top: 0.5em;}
table {width: 100%; background-color: #ccc}
table td {background-color: #fff; vertical-align: top; border-collapse: collapse; padding: 5px; margin: 1px}
table th {background-color: #ddd; font-weight: bold; border-collapse: collapse; padding: 5px; margin: 1px}
table tr.na td.dimOnNa {background-color: #f5f5f5; color: #999; text-decoration: line-through;}
table td.assertType {font-weight: bold;}
table tr.error td.assertType {background-color: #c00; color: white;}
table tr.warning td.assertType {background-color: #ff0; color: black;}
table tr.notice td.assertType {background-color: #666; color: white;}
div.edsnote {background-color: #ffd; border: 1px solid #dd0; margin: 5px; padding: 5px; line-height: 1.5em}
div.subhead {font-size: 1.2em; line-height: 1.5em; background-color: #eee; color: #333; border-bottom: 2px solid #666; padding: 15px 20px; margin: -10px -10px 10px -10px}
div.fullcode {font-size: 0.85em; font-style: italic; background-color: #f8f8f8; color: #333; margin: 5px 0px; padding: 5px 0px}
.na div.fullcode {color: inherit; background-color: inherit}
blockquote {border-left: 5px solid #99c; background-color: #f8f8ff; padding: 5px 0 5px 10px}
</style>
</head>
<body>
<h1>WCAG 2.0 Success Criterion 3.1.6: Pronunciation (Level <abbr title="Triple A">AAA</abbr>)</h1>
<div class="subhead">
<p>Back to: <a href="../../">Home</a> - <a href="./AAA">Level AAA Summary</a></p>

<h2>Definition</h2>
<p>A mechanism is available for identifying specific pronunciation of words where meaning of the words, in context, is ambiguous without knowing the pronunciation.</p>
<p><em>More discussion from W3C:</em> <strong><a href="http://www.w3.org/TR/UNDERSTANDING-WCAG20/meaning-pronunciation.html">Understanding Success Criterion 3.1.6</a></strong></p>
</div>
<h2>About Ruby text</h2>

<p>One method of providing pronunciation of words is ruby text, as detailed in technique <a href="http://www.w3.org/TR/WCAG20-TECHS/H62">H62: Using the ruby element</a>. It is currently not necessarily the best method at the moment due to its lack of broad support (see the "Additional sufficient techniques" below), but it is one that can be programmatically checked for errors. It is also one that may become more used in the future if support improves, particularly given its acceptance into HTML5.</p>

<p>One method of marking pronounciation, particularly in Asian scripts like Chinese characters or Japanese kanji, is to use smaller characters above, below, or beside the text - either simpler characters (such as hiragana in Japanese), or Latin romanisation (such as romaji or pinyin).</p>

<p>This concept is generically called <em>ruby text</em> by the W3C. This comes from both the old concept of a 5.5-point text used for annotations in printing, and the term "rubi" (ルビ) being used in Japanese for this concept, known otherwise as <a href="http://en.wikipedia.org/wiki/Furigana">furigana</a>.</p>

<h3>XHTML 1.1 vs HTML5</h3>

<p>The testing procedure provided in this technique mentions "simple ruby markup" (there is complex markup available) and the rb element: these are part of the XHTML 1.1 definition of ruby text. In HTML5, all ruby markup is "simple", and the rb element does not exist; the base text should be placed in the body of the ruby element. HTML_CodeSniffer tweaks its error message depending on whether the DOM contains an rb element or not.</p>

<h3>Browser support</h3>

<p>Support for the ruby element varies, but has been slow because the lack of wide support for XHTML 1.1 (notably, Internet Explorer's poor support for markup with an XML content type in general). However, this has been slowly improving with its introduction into HTML5, with Webkit adding support recently.</p>

<p>Support is broadly summarised as follows:</p>

<ul>
<li>Internet Explorer has handled ruby text since version 5.0, according to the W3C technique report - even despite its poor handling of XHTML.</li>
<li>Webkit has had ruby support for a little while now - Safari 5.0+ and Chrome 5+ both support it.</li>
<li>Gecko does not support ruby natively; the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=33339">bug to track its inclusion</a> is over a decade old, and no milestone has been set. There are some add-ons available for Firefox to display ruby text properly, but their overall usefulness is unknown (eg. how Gecko handles in-page search with ruby, or selecting ruby text or its base).</li>
</ul>

<p>The lack of complete support - something that will never be 100% (eg. text browsers?) - means use of the rp element is important. The rp element has no representation in browsers that support the ruby element; in browsers that do not understand them, the elements will have no effect, with the result being the base text, with the pronunciation beside it in whatever passes for parentheses.</p>

<h2>Additional sufficient techniques</h2>

<p>If ruby text is not available as an option for fulfilling this Success Criterion, the following techniques are also considered sufficient, but require a manual test:</p>

<ul>
<li><a href="http://www.w3.org/TR/WCAG20-TECHS/G120">Providing the pronunciation directly after the word</a>. If ruby text is used and the rp element is used properly, it should fall back to this case in browsers without ruby support.</li>
<li><a href="http://www.w3.org/TR/WCAG20-TECHS/G121">Linking to a definition</a> (including in a dictionary or <a href="http://www.w3.org/TR/WCAG20-TECHS/G62">glossary</a>) that contains the pronunciation</li>
<li><a href="http://www.w3.org/TR/WCAG20-TECHS/G163">Using standard diacritical marks that can be turned off</a> (where applicable). The W3C offers an <a href="http://www.hawaii.edu/site/info/diacritics.php">example from the University of Hawai'i</a>, which allows the switching of Hawai'ian language diacritical marks.</li>
</ul>
<h2>Messages emitted by this Success Criterion's tests</h2>

<table>
<colgroup>
<col width="6%">
<col width="35%">
<col width="12%">
<col width="12%">
<col width="35%">
</colgroup>
<tbody>
<tr>
<th id="type">Type</th>
<th id="name">Message Name</th>
<th id="applies">Applies To</th>
<th id="tech">Techniques</th>
<th id="ex">Examples</th>
</tr>

<tr class="error">
<td class="assertType dimOnNa" id="3_1_6_2_type" headers="type sc3_1_6">
Error</td>
<td class="dimOnNa" id="3_1_6_2_name" headers="name sc3_1_6">
<p>If simple Ruby markup is used, check that the rp element is present to indicate to user agents that do not support Ruby annotations that the text in the rt element provides the pronunciation information.</p>
<div class="fullcode">WCAG2AAA.Principle3.Guideline3_1.3_1_6.H62.2</div></td>
<td class="dimOnNa" id="3_1_6_2_applies" headers="applies sc3_1_6">
<p>Ruby element without a child rp element.</p>
</td>
<td class="dimOnNa" id="3_1_6_2_tech" headers="tech sc3_1_6">
<ul>
<li>H62.2</li>
</ul>
</td>
<td class="dimOnNa" id="3_1_6_2_examples" headers="ex sc3_1_6">
<ul>
<li><a href="./Eg/69">69</a></li>
<li><a href="./Eg/70">70</a></li>
</ul>
</td>
</tr>

<tr class="error">
<td class="assertType dimOnNa" id="3_1_6_1_type" headers="type sc3_1_6">
Error</td>
<td class="dimOnNa" id="3_1_6_1_name" headers="name sc3_1_6">
<p>Check that a rt element contains pronunciation information for each run of text defined by the rb element.</p>
<div class="fullcode">WCAG2AAA.Principle3.Guideline3_1.3_1_6.H62.1.XHTML11</div></td>
<td class="dimOnNa" id="3_1_6_1_applies" headers="applies sc3_1_6">
<p>Ruby element without a child rt element. (This version fired when an rb element was found, which is XHTML 1.1 "simple markup" format.)</p>
</td>
<td class="dimOnNa" id="3_1_6_1_tech" headers="tech sc3_1_6">
<ul>
<li>H62.1.XHTML11</li>
</ul>
</td>
<td class="dimOnNa" id="3_1_6_1_examples" headers="ex sc3_1_6">
<ul>
<li><a href="./Eg/68">68</a></li>
<li><a href="./Eg/69">69</a></li>
<li><a href="./Eg/70">70</a></li>
</ul>
</td>
</tr>

<tr class="error">
<td class="assertType dimOnNa" id="3_1_6_0_type" headers="type sc3_1_6">
Error</td>
<td class="dimOnNa" id="3_1_6_0_name" headers="name sc3_1_6">
<p>Check that a rt element contains pronunciation information for each run of text defined by the body of the ruby element.</p>
<div class="fullcode">WCAG2AAA.Principle3.Guideline3_1.3_1_6.H62.1.HTML5</div></td>
<td class="dimOnNa" id="3_1_6_0_applies" headers="applies sc3_1_6">
<p>Ruby element without a child rt element. (This version fired when no rb element found, which is HTML5 format.)</p>
</td>
<td class="dimOnNa" id="3_1_6_0_tech" headers="tech sc3_1_6">
<ul>
<li>H62.1.HTML5</li>
</ul>
</td>
<td class="dimOnNa" id="3_1_6_0_examples" headers="ex sc3_1_6">
<ul>
<li><a href="./Eg/68">68</a></li>
<li><a href="./Eg/69">69</a></li>
<li><a href="./Eg/70">70</a></li>
</ul>
</td>
</tr>

</tbody></table></body>
</html>
